<div class="table-container">
  @if (isLoading()) {
    <div class="loader">
      <mat-spinner />
    </div>
  }

  <table mat-table [dataSource]="transactions()">
    <ng-container matColumnDef="createdAt" [sticky]="isMobile()">
      <th mat-header-cell *matHeaderCellDef>Created at</th>
      <td mat-cell *matCellDef="let row">{{ row.createdAt | date }}</td>
    </ng-container>

    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef>Description</th>
      <td mat-cell *matCellDef="let row">{{ row.description }}</td>
    </ng-container>

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>ID</th>
      <td mat-cell *matCellDef="let row">{{ row.id }}</td>
    </ng-container>

    <ng-container matColumnDef="currency">
      <th mat-header-cell *matHeaderCellDef>Currency</th>
      <td mat-cell *matCellDef="let row">{{ row.currency }}</td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef>Amount</th>
      <td mat-cell *matCellDef="let row">{{ row.amount }}</td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let row">{{ row.status }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell">No data matching the filter.</td>
    </tr>
  </table>
</div>

<mat-paginator
  [pageIndex]="currentPage()"
  [length]="resultsLength()"
  [pageSize]="pageSize()"
  [hidePageSize]="true"
  [disabled]="isLoading()"
  (page)="onPageChange($event)"
  showFirstLastButtons
/>
